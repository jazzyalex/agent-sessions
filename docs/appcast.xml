<?xml version="1.0" standalone="yes"?>
<rss xmlns:sparkle="http://www.andymatuschak.org/xml-namespaces/sparkle" version="2.0">
    <channel>
        <title>AgentSessions</title>
        <item>
            <title>2.7.1</title>
            <pubDate>Tue, 25 Nov 2025 22:45:16 -0800</pubDate>
            <description><![CDATA[
                <h2>What's New in 2.7.1</h2>

<h3>Critical Fixes</h3>

<p>**Codex Usage Tracking**: Added full support for new Codex usage backend format. The usage parser now handles both legacy local usage events and the new backend-based usage reporting system, ensuring accurate rate limit tracking across all Codex CLI versions. Automatic fallback to legacy format for older Codex versions.</p>

<h3>Technical</h3>

<p>**Usage Format Migration**: Enhanced `CodexUsageParser` with dual format support to seamlessly transition between Codex usage reporting systems without requiring user intervention or configuration changes.
</p>
<h3>Major Features</h3>

<p>**New Color View**: Terminal-inspired view with CLI-style colorized output, role-based filtering (User, Agent, Tools, Errors), and navigation shortcuts. Replaces the old "Terminal" mode with enhanced visual hierarchy and interactive filtering.</p>
<p>**Enhanced Transcript Modes**: Renamed "Transcript" to "Plain" view for clarity. Added improved JSON viewer with syntax highlighting and better readability for session inspection.</p>
<p>**View Mode Switching**: Quick toggle between Plain, Color, and JSON views with Cmd+Shift+T keyboard shortcut.</p>

<h3>Critical Fixes</h3>

<p>**Claude Usage Tracking**: Fixed compatibility with Claude Code's new usage format change ("% left" vs "% used"). The usage probe now supports both old and new formats with automatic percentage inversion, ensuring accurate limit tracking across all Claude CLI versions.</p>
<p>**Script Consolidation**: Unified usage capture scripts via symlink to prevent future divergence. Single source of truth in `AgentSessions/Resources/`.</p>

<h3>Improvements</h3>

<p>**Color View Navigation**: Added role-specific navigation buttons with circular pill styling and tint-aware colors. Jump between user messages, tool calls, or errors with keyboard shortcuts.</p>
<p>**NSTextView Renderer**: Implemented high-performance text rendering with native macOS text selection and smooth scrolling.</p>
<p>**JSON View**: Redacted `encrypted_content` fields for cleaner inspection. Improved syntax coloring stability across mode toggles.</p>
<p>**Debug Mode**: Added `CLAUDE_TUI_DEBUG` environment variable for troubleshooting usage capture issues with raw output dumps.</p>

<h3>Technical</h3>

<p>**Flexible Pattern Matching**: Usage probe now tries multiple patterns ("% left", "% used", "%left", "%used") with fallback to any "N%" format. Future-proofed against CLI format changes.</p>
<p>**Enhanced Testing**: Comprehensive test suite for both old and new Claude usage formats with validation of percentage inversion logic.</p>
            ]]></description>
            <sparkle:version>10</sparkle:version>
            <sparkle:shortVersionString>2.7.1</sparkle:shortVersionString>
            <sparkle:minimumSystemVersion>14.0</sparkle:minimumSystemVersion>
            <enclosure url="https://github.com/jazzyalex/agent-sessions/releases/download/v2.7.1/AgentSessions-2.7.1.dmg" length="7512459" type="application/octet-stream" sparkle:edSignature="YhgcVIFr1LUHnl0mr1aXwQKWty38n5yHyt/6o4aQehbNETiQhf1O3HLQPYQIm4+jlew038JkfYswCmWYZS3nDQ=="/>
        </item>
    </channel>
</rss>